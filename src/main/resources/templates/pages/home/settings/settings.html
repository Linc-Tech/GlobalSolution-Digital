<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head th:include="_templateSettings :: settings"></head>
<body>
	<header th:include="_templateSettings :: header"></header>

	<div class="form-container margin">
		<form th:action="@{/ong/update}" method="post" th:object="${p}">
			<!-- ONG Data -->
			<p class="ong-data-subtitle">InformaÃ§Ãµes da ONG</p>
			<div class="ong-data">
				<div class="input-container" style="margin-left: 0;">
					<!-- ONG Name -->
					<div class="mb-3">
						<label for="name" class="form-label">Nome da ONG</label> 
						<input
							type="text" 
							class="form-control" 
							name="name" 
							id="name"
							th:value="${p.name}" 
							th:field="*{name}"
							th:classappend="${#fields.hasErrors('name')}?invalid"
							required
							/>
							<span class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>  
					</div>

					<!-- Email -->
					<div class="mb-3">
						<label for="email" class="form-label">Email</label> 
						<input
							type="email" 
							class="form-control" 
							name="email" 
							id="email"
							th:value="${p.email}"
							th:classappend="${#fields.hasErrors('email')}?invalid"
							required 
						/>
					</div>

					<!-- Password -->
					<div class="mb-3">
						<label for="password" class="form-label">Senha</label> 
						<input
							type="password" 
							class="form-control" 
							name="password"
							id="password"
							th:classappend="${#fields.hasErrors('password')}?invalid"
							required 
						/>
					</div>

					<!-- ConfirmPassword -->
					<div class="mb-3">
						<label for="passwordConfirm" class="form-label">Confirme
							sua senha</label> 
						<input 
							type="password" 
							class="form-control"
							id="passwordConfirm"
							required
						/>
					</div>
					
					<!-- Site link -->
					<div class="mb-3">
						<label for="ongUrl" class="form-label">Link do site</label> 
						<input
							type="text" 
							class="form-control" 
							id="ongUrl" 
							name="ongUrl"
							th:value="${p.ongUrl}"
							th:classappend="${#fields.hasErrors('ongUrl')}?invalid"
						/>
					</div>

				</div>

				<div class="input-container">
					<!-- ONG Address -->
					<div class="mb-3">
						<label for="address" class="form-label">EndereÃ§o</label> 
						<input
							type="text" 
							class="form-control" 
							name="address.address"
							id="address" 
							th:value="${p.address.address}"
							th:field="${p.address.address}"
							th:classappend="${#fields.hasErrors('address.address')}?invalid"
							required 
						/>
					</div>

					<!-- ONG CEP -->
					<div class="mb-3">
						<label for="cep" class="form-label">CEP</label> 
						<input
							type="number" 
							class="form-control" 
							name="address.cep" 
							id="cep"
							th:value="${p.address.cep}"
							th:classappend="${#fields.hasErrors('address.cep')}?invalid"
							required 
						/>
					</div>

					<!-- ONG UF -->
					<div class="mb-3">
						<label for="state" class="form-label">Estado</label> 
						<input
							type="text" 
							class="form-control" 
							name="address.state" 
							id="state"
							th:value="${p.address.state}"
							th:classappend="${#fields.hasErrors('address.state')}?invalid"
							required 
						/>
					</div>

					<!-- ONG NUMERO -->
					<div class="mb-3">
						<label for="number" class="form-label">NÃºmero</label> 
						<input
							type="text" 
							class="form-control" 
							name="address.number"
							id="number" 
							th:value="${p.address.number}"
							th:classappend="${#fields.hasErrors('address.number')}?invalid"
							required 
						/>
					</div>					
				</div>

				<div class="input-container" style="margin-right: 0;">		
					<!-- ONG COMPLEMENTO -->
					<div class="mb-3">
						<label for="complement" class="form-label">Complemento</label> 
						<input
							type="text" 
							class="form-control" 
							name="address.complement"
							id="complement" 
							th:value="${p.address.complement}"
							th:classappend="${#fields.hasErrors('address.complement')}?invalid"
						/>
					</div>	
							
					<!-- ONG description -->
					<div class="mb-3">
						<label for="description" class="form-label" >
						Texto de apresentaÃ§Ã£o da ONG</label>
						<textarea 
							rows="8" cols="80"
							class="form-control" 
							id="description" 
							name="description"
							th:text="${p.description}"
							th:classappend="${#fields.hasErrors('description')}?invalid"
						>
              			</textarea>
					</div>

					<!-- CNPJ -->
					<div class="mb-3" style="visibility: hidden">
						<input
							type="number" 
							class="form-control" 
							name="cnpj" 
							id="cnpj"
							th:value="${p.cnpj}"
							th:classappend="${#fields.hasErrors('cnpj')}?invalid"
							required 
						/>
					</div>
					
					<!-- ADDRESS ID -->
					<div class="mb-3" style="visibility: hidden">
						 <input
							type="number" 
							class="form-control" 
							name="address.id" 
							id="address.id"
							th:value="${p.address.id}"
							th:classappend="${#fields.hasErrors('address.id')}?invalid"
						 />
					</div>
				</div>

			</div>
			<!-- ONG Bank Data -->
			<p class="ong-data-subtitle" style="margin-top: 20px;">Dados BancÃ¡rios</p>
			<div class="ong-bank-data">
				<!-- Bank -->
				<div class="mb-3 input-container" style="margin-left: 0;">
					<label class="form-label" for="bancos">Bancos</label> 
					<select class="form-select" id="bancos" name="account.bank">
						<option selected th:text="${p.account.bank}"></option>
			            <option value="Bradesco">Bradesco</option>
			            <option value="Itau">Itaú</option>
			            <option value="Santander">Santander</option>
			            <option value="Caixa">Caixa</option>
			            <option value="Banco do Brasil">Banco do Brasil</option>
			            <option value="Outro">Outro</option>
					</select>
				</div>

				<!-- Agency -->
				<div class="mb-3 input-container">
					<label for="agency" class="form-label">AgÃªncia</label>
					<input
						type="number"
						class="form-control"
						name="account.agency"
						id="agency"
						th:value="${p.account.agency}"
						th:field="${p.account.agency}"
						th:classappend="${#fields.hasErrors('account.agency')}?invalid"
					/>
				</div>

				<!-- Account -->
				<div class="mb-3 input-container" style="margin-right: 0;">
					<label for="account" class="form-label">Conta</label>
					<input
						type="number"
						class="form-control"
						name="account.account"
						id="account"
						th:value="${p.account.account}"
						th:field="${p.account.account}"
						th:classappend="${#fields.hasErrors('account.account')}?invalid"
					/>
				</div>
				
				<!-- ID -->
				<div class="mb-3" style="visibility: hidden">
					<input
						type="number" 
						class="form-control" 
						name="account.id" 
						id="id"
						th:value="${p.account.id}"
					/>
				</div>
				
				<!-- ID -->
				<div class="mb-3" style="visibility: hidden">
					<input
						type="number" 
						class="form-control" 
						name="account.id" 
						id="id"
						th:value="${p.account.id}" 
					/>
				</div>
			</div>
			<div class="buttons-container">
				<div>
					<a href="#staticBackdrop" class="btn btn-danger btn-registration btn-delete"
						data-bs-toggle="modal" data-bs-target="#staticBackdrop">
						Deletar conta </a>
				</div>
				<div>
					<button type="submit" class="btn btn-success btn-registration">Atualizar dados</button>
				</div>
			</div>
		</form>

		<!-- Modal -->
		<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static"
			data-bs-keyboard="false" tabindex="-1"
			aria-labelledby="staticBackdropLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body">
						<p>VocÃª tem certeza que deseja deletar a sua conta?</p>
						<div class="modal-buttons">
							<div class="modal-btn">
								<button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Cancelar</button>
								<a type="button" class="btn btn-success" th:href="@{'/ong/delete/' + ${p.cnpj}}">Confirmar</a>
							</div>
							<div class="modal-btn"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
		integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
		integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
		crossorigin="anonymous"></script>
</body>
</html>